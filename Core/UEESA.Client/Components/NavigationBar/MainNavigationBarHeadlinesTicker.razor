@if (UIState.IsHeadlinesNavBarTickerVisible)
{
    <div id="headlines-navbar-ticker">
        <div id="headlines-navbar-ticker-title" class="col-auto">
            <h6>Headlines</h6>
        </div>
        <div id="headlines-navbar-ticker-content" class="col">
            <div class="row">
                <div class="col-auto"></div>
            </div>
        </div>
    </div>
}

@inject ClientState ClientState
@inject UIState UIState

@inject JSInterface.AnimationManager AnimationManager

@code {

    protected override async Task OnInitializedAsync()
    {
        UIState.OnIsHeadlinesNavBarTickerVisibleChange += StateHasChanged;
        await base.OnInitializedAsync();
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (UIState.IsHeadlinesNavBarTickerVisible)
        {
            await Task.Delay(TimeSpan.FromSeconds(1.5));
            await AnimationManager.SlideInOutHeadlinesNavBarTicker(false);
        }
        await base.OnAfterRenderAsync(firstRender);
    }
}
